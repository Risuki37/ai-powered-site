# 次に実施する手順

## 📋 現在の状況

以下の作業は完了しています：

- ✅ Node.js環境の確認（v24.5.0）
- ✅ npm環境の確認（v11.5.1）
- ✅ 依存関係のインストール（476パッケージ）
- ✅ 環境変数ファイルの作成（`.env.local`）
- ✅ NextAuth Secretの生成
- ✅ Prismaクライアントの生成

---

## 🚀 次に実施する手順

### ステップ1: 環境変数の設定

`.env.local`ファイルを編集して、以下の値を設定してください：

#### 1.1 NextAuth Secret（既に生成済み）

```env
NEXTAUTH_SECRET="1jW6r5o7zCpXWlDjkHNt6K3Eud/TIz8v6pfaP13FQjk="
```

#### 1.2 データベース接続情報

ローカルMySQLを使用する場合：

```env
DATABASE_URL="mysql://dev_user:dev_password@localhost:3306/ai_powered_site_dev?schema=public"
```

**注意**: まずローカルMySQLをセットアップする必要があります（下記ステップ2を参照）

---

### ステップ2: ローカルMySQLのセットアップ

#### 2.1 MySQLサーバーの起動

```bash
brew services start mysql
```

#### 2.2 データベースとユーザーの作成

```bash
mysql -u root -p
```

以下を実行：

```sql
CREATE DATABASE IF NOT EXISTS ai_powered_site_dev 
  CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE USER IF NOT EXISTS 'dev_user'@'localhost' IDENTIFIED BY 'dev_password';
GRANT ALL PRIVILEGES ON ai_powered_site_dev.* TO 'dev_user'@'localhost';
FLUSH PRIVILEGES;
EXIT;
```

#### 2.3 `.env.local`に接続情報を設定

```env
DATABASE_URL="mysql://dev_user:dev_password@localhost:3306/ai_powered_site_dev?schema=public"
```

詳細は[ローカルMySQLセットアップ手順](./ローカルMySQLセットアップ手順.md)を参照してください。

---

### ステップ3: データベースマイグレーション

```bash
cd code
npm run db:migrate
```

これにより、11個のテーブルが作成されます。

---

### ステップ4: 開発サーバーの起動

```bash
npm run dev
```

ブラウザで `http://localhost:3000` にアクセスして確認：

- トップページが表示される
- `/api/health`が正常に動作する
- `/login`ページが表示される
- `/blog`ページが表示される

---

## 📚 参考ドキュメント

- [開発環境セットアップ完了チェックリスト](./開発環境セットアップ完了チェックリスト.md)
- [ローカルMySQLセットアップ手順](./ローカルMySQLセットアップ手順.md)
- [開発環境セットアップガイド](./開発環境セットアップガイド.md)
- [SETUP.md](./SETUP.md)

---

**最終更新**: 2025-11-29

